---

# 1. 画面名

---

**スタッフログイン画面**

![image.png](image.png)

---

# 2. 要素別仕様

---

## 2-1. ログインフォーム

![image.png](image%201.png)

### UI 要素・コントロール・I/O

| 要素名         | コントロール種類 | I/O | 説明                                 |
|----------------|------------------|-----|--------------------------------------|
| ページタイトル | テキスト表示     | 出力| 「スタッフログイン」を表示           |
| サブタイトル   | テキスト表示     | 出力| 「シフト管理システム スタッフ専用ページ」を表示 |
| アカウントアイコン| アイコン        | 出力| AccountCircleアイコン（48px・プライマリ色） |
| メールアドレス | テキストボックス | 入力| スタッフのメールアドレスを入力（Emailアイコン付き） |
| パスワード     | パスワードボックス| 入力| パスワードを入力（Lockアイコン付き）     |
| パスワード表示切替 | アイコンボタン | 入力| パスワードの表示/非表示切替（Visibility/VisibilityOffアイコン） |
| ログイン状態保持| チェックボックス | 入力| 「ログイン状態を保持」チェックボックス   |
| ログインボタン | ボタン           | 入力| 入力内容でログイン処理・ローディング表示 |
| エラーメッセージ| Alert           | 出力| ログイン失敗時のエラーメッセージ表示     |
| 管理者ログインリンク| ボタン        | 入力| 管理者ログイン画面へのリンク         |
| デモ認証情報   | 情報ボックス     | 出力| デモ用のメールアドレス・パスワード表示   |

### イベント定義

| イベント名         | 発生タイミング | イベント概要               | 遷移先         | バリデーション |
|--------------------|---------------|----------------------------|----------------|----------------|
| ログイン           | ボタン押下時・Enter押下時 | ログイン処理・LocalStorage保存 | /tier-2dealer/staff/dashboard | 必須・形式・認証 |
| パスワード表示切替 | アイコン押下時 | パスワードの表示切替       | なし           | なし           |
| ログイン状態保持   | チェックボックス変更時 | remember状態の切替     | なし           | なし           |
| 管理者ログイン遷移 | ボタン押下時   | 管理者ログイン画面へ遷移   | /tier-2dealer/admin/login | なし |

---

## 2-2. パスワードリセット機能

![image.png](image%202.png)

### UI 要素・コントロール・I/O

| 要素名         | コントロール種類 | I/O | 説明                                 |
|----------------|------------------|-----|--------------------------------------|
| パスワードリセットリンク | リンクボタン | 入力| 「パスワードを忘れた方はこちら」リンク |
| リセットダイアログ | ダイアログ     | 出力| パスワードリセット用ダイアログ       |
| ダイアログタイトル | テキスト表示   | 出力| 「パスワードリセット」を表示         |
| 説明テキスト   | テキスト表示     | 出力| リセット手順の説明文                 |
| リセット用メールアドレス | テキストボックス | 入力| リセット先メールアドレス入力（Emailアイコン付き） |
| リセットエラーメッセージ | Alert     | 出力| リセット失敗時のエラーメッセージ     |
| リセット成功メッセージ | Alert       | 出力| リセットメール送信成功時のメッセージ |
| 送信ボタン     | ボタン           | 入力| リセットメール送信・ローディング表示 |
| キャンセルボタン | ボタン         | 入力| ダイアログを閉じる                   |
| 閉じるボタン   | ボタン           | 入力| 成功時のダイアログクローズボタン     |

### イベント定義

| イベント名         | 発生タイミング | イベント概要               | 遷移先         | バリデーション |
|--------------------|---------------|----------------------------|----------------|----------------|
| リセットダイアログ表示 | リンク押下時 | パスワードリセットダイアログ表示 | ダイアログ表示 | なし |
| リセットメール送信 | 送信ボタン押下時 | リセットメール送信処理     | なし           | 必須・形式・登録済み |
| ダイアログクローズ | キャンセル/閉じるボタン押下時 | ダイアログを閉じる・状態リセット | なし | なし |

---

# 3. その他仕様（要素に収まらない共通ルールや制約）

## 3-1. 認証・バリデーション

- **必須項目チェック**: メールアドレス・パスワード未入力時はエラー表示
- **メール形式チェック**: 正規表現（`/^[^\s@]+@[^\s@]+\.[^\s@]+$/`）によるメールアドレス形式検証
- **認証処理**: validStaffDataオブジェクトとの照合によるモック認証
- **ログイン失敗**: 「メールアドレスまたはパスワードが正しくありません」エラー表示
- **有効スタッフデータ**: 10名分のサンプルデータ（tanaka.taro@example.com等）
- **LocalStorage保存**: ログイン成功時に`staff_logged_in`・`current_staff_id`・`current_staff_name`・`login_time`を保存

## 3-2. パスワードリセット

- **リセット対象チェック**: 登録済みメールアドレスのみリセット処理実行
- **未登録メール**: 「登録されていないメールアドレスです」エラー表示
- **成功処理**: リセットメール送信完了メッセージとURLの案内表示
- **メール送信**: モック処理（console.logでの送信ログ）
- **状態管理**: ダイアログクローズ時に入力値・エラー・成功状態をリセット

## 3-3. UI/UX・インタラクション

- **カードレイアウト**: 中央配置・最大幅400px・影・角丸
- **ローディング状態**: ログイン中・リセット中の状態表示とボタン無効化
- **Enterキー対応**: パスワード入力中のEnterキーでログイン実行
- **アイコン統一**: Email・Lock・AccountCircle・Visibility/VisibilityOffアイコン
- **ログイン状態保持**: チェックボックスによるrememberMe機能
- **管理者ログインリンク**: 管理者ログイン画面への遷移ボタン

## 3-4. レスポンシブ・アクセシビリティ

- **レスポンシブ対応**: Container maxWidth="sm"・スマホ対応レイアウト
- **アクセシビリティ**: 
  - WCAG 2.2 AA準拠
  - 全操作キーボード対応
  - コントラスト4.5:1以上
  - 適切なlabel・placeholder設定
- **フォーカス管理**: タブ順序・Enter操作の適切な実装

## 3-5. デモ・開発支援

- **デモ認証情報表示**: 開発・テスト用の認証情報をUI内に表示
- **サンプルデータ**: 10名分のスタッフデータ（メール・ID・名前・パスワード）
- **プレースホルダー**: 入力例の表示（「例: tanaka.taro@example.com」）
- **エラーハンドリング**: 適切なエラーメッセージ・ユーザーガイダンス

## 3-6. 制約・注意事項

- **モック認証**: 実際のAPI認証は未実装・LocalStorageベース
- **パスワードリセット**: メール送信は未実装・UI表示のみ
- **セキュリティ**: 本格運用時は適切な認証・暗号化が必要
- **データ永続化**: LocalStorageのみ・サーバー同期なし
- **ブラウザ依存**: LocalStorageサポートブラウザのみ対応 