---

# 1. 画面名

---

**スタッフ管理画面（管理者用）**

![image.png](image.png)

---

# 2. 要素別仕様

---

## 2-1. AdminHeader（ヘッダー・ナビゲーション）

![image.png](image%201.png)

### UI 要素・コントロール・I/O

| 要素名             | コントロール種類 | I/O | 説明                                                                 |
|--------------------|------------------|-----|----------------------------------------------------------------------|
| シフト管理ボタン   | ボタン           | 入力 | シフト管理画面へ遷移                                                 |
| スタッフ管理ボタン | ボタン           | 入力 | スタッフ管理画面へ遷移（現在画面の場合はハイライト）                 |
| 管理者アバター     | アバター         | 表示 | 管理者アイコン表示（32x32px）                                        |
| 管理者名表示       | テキスト         | 表示 | 「管理者」を表示                                                     |
| 履歴アイコン       | アイコンボタン   | 入力 | 変更依頼履歴ダイアログを表示                                         |
| 設定アイコン       | アイコンボタン   | 入力 | 設定メニューを表示                                                   |

### イベント定義

| イベント名         | 発生タイミング | イベント概要                         | 遷移先/動作         | バリデーション |
|--------------------|---------------|--------------------------------------|---------------------|---------------|
| シフト管理遷移     | ボタン押下時   | シフト管理画面へ遷移                 | /tier-2dealer/admin/shifts | なし          |
| スタッフ管理遷移   | ボタン押下時   | スタッフ管理画面へ遷移（現在画面）   | /tier-2dealer/admin/staff  | なし          |
| 履歴表示           | アイコン押下時 | 変更依頼履歴ダイアログを表示         | ダイアログ表示       | なし          |
| 設定メニュー表示   | アイコン押下時 | 設定メニューを表示                   | メニュー表示         | なし          |

---

## 2-2. フィルタ・検索機能

![image.png](image%202.png)

### UI 要素・コントロール・I/O

| 要素名             | コントロール種類 | I/O | 説明                                 |
|--------------------|------------------|-----|--------------------------------------|
| 氏名検索           | テキストボックス | 入力| スタッフ氏名での絞り込み             |
| カナ検索           | テキストボックス | 入力| スタッフカナでの絞り込み             |
| 最寄駅検索         | テキストボックス | 入力| 最寄駅での絞り込み                   |
| 役割フィルタ       | セレクトボックス | 入力| クローザー/ガールでの絞り込み        |
| 提出状況フィルタ   | セレクトボックス | 入力| 提出済み/未提出での絞り込み          |
| 月選択             | セレクトボックス | 入力| 提出状況確認対象月の選択             |
| アクティブフィルタ | セレクトボックス | 入力| 有効/無効スタッフでの絞り込み        |
| リセットボタン     | ボタン           | 入力| 全フィルタをリセット                 |

### イベント定義

| イベント名         | 発生タイミング | イベント概要               | 遷移先 | バリデーション |
|--------------------|---------------|----------------------------|--------|----------------|
| フィルタ適用       | 入力時         | リアルタイムフィルタ実行   | なし   | なし           |
| 月変更             | 選択時         | 提出状況表示の更新         | なし   | なし           |
| フィルタリセット   | クリック時     | 全フィルタの初期化         | なし   | なし           |

---

## 2-3. スタッフ一覧テーブル

![image.png](image%203.png)

### UI 要素・コントロール・I/O

| 要素名             | コントロール種類 | I/O | 説明                                                                 |
|--------------------|------------------|-----|----------------------------------------------------------------------|
| 3行構造テーブル    | テーブル         | 出力| 月フィルター行・ラベル行・フィルター行の3行構造                     |
| 月選択セレクト     | セレクトボックス | 入力| 提出状況確認対象月を選択（2025年1-12月固定）                        |
| スタッフ一覧       | テーブル         | 出力| スタッフ情報（有効・氏名・カナ・最寄駅・役職・単価・電話・提出状況） |
| 提出状況バッジ     | Chip             | 出力| 選択月の提出状況を「提出済み」「未提出」で色分け表示                |
| アクティブ切替     | Switch           | 入力| スタッフの有効/無効状態切替（Tooltip付き説明）                      |
| 役職バッジ         | Chip             | 出力| クローザー（primary）・ガール（secondary）をアウトライン表示        |
| 単価表示           | テキスト         | 出力| 通貨フォーマット（¥15,000）で表示                                   |
| 編集ボタン         | アイコンボタン   | 入力| スタッフ情報の編集モーダルを開く                                     |
| 削除ボタン         | アイコンボタン   | 入力| スタッフ情報の削除確認ダイアログ                                     |
| 追加ボタン         | ボタン           | 入力| 新規スタッフ追加モーダルを開く                                       |
| 統計情報表示       | テキスト         | 出力| 登録・表示中スタッフ数、クローザー・ガール数の統計                   |

### イベント定義

| イベント名         | 発生タイミング | イベント概要               | 遷移先 | バリデーション |
|--------------------|---------------|----------------------------|--------|----------------|
| 月選択変更         | セレクト変更時 | 提出状況表示の更新         | なし   | なし           |
| アクティブ切替     | スイッチ操作時 | スタッフの有効無効切替     | なし   | なし           |
| 編集開始           | 編集ボタン押下 | 編集モーダル表示           | なし   | なし           |
| 削除確認           | 削除ボタン押下 | 削除確認ダイアログ表示     | なし   | なし           |
| 追加開始           | 追加ボタン押下 | 追加モーダル表示           | なし   | なし           |

---

## 2-4. 編集・追加モーダル

![image.png](image%204.png)

### UI 要素・コントロール・I/O

| 要素名             | コントロール種類 | I/O | 説明                                                                 |
|--------------------|------------------|-----|----------------------------------------------------------------------|
| 氏名入力欄         | テキストボックス | 入力| スタッフの氏名を入力                                                 |
| カナ入力欄         | テキストボックス | 入力| スタッフのカナを入力                                                 |
| 最寄駅入力欄       | テキストボックス | 入力| 最寄駅を入力                                                         |
| 平日単価入力欄     | 数値入力         | 入力| 平日の日当を入力（編集時：読み取り専用、新規時：入力可能）           |
| 土日単価入力欄     | 数値入力         | 入力| 土日の日当を入力（編集時：読み取り専用、新規時：入力可能）           |
| 単価ヘルプテキスト | テキスト         | 出力| 編集時「※ANSTEYPE側が決定します」、新規時「※新規登録時のみ入力可能」 |
| 電話番号入力欄     | テキストボックス | 入力| スタッフの電話番号を入力                                             |
| 役職選択           | セレクトボックス | 入力| クローザー/ガール等を選択                                            |
| メール入力欄       | テキストボックス | 入力| メールアドレスを入力                                                 |
| パスワード入力欄   | テキストボックス | 入力| ログインパスワードを入力                                             |
| パスワード表示切替 | アイコンボタン   | 入力| パスワードの表示/非表示切替                                         |
| 出張可否選択       | セレクトボックス | 入力| 出張対応可否を選択（OK/NG）                                         |
| 提出状況選択       | セレクトボックス | 入力| 選択月の提出状況を「提出済み」「未提出」から設定（編集時のみ）       |
| 保存ボタン         | ボタン           | 入力| 入力内容を保存（必須項目未入力時は無効）                             |
| キャンセルボタン   | ボタン           | 入力| モーダルを閉じる                                                     |

### イベント定義

| イベント名         | 発生タイミング | イベント概要               | 遷移先 | バリデーション |
|--------------------|---------------|----------------------------|--------|----------------|
| パスワード表示切替 | アイコン押下時 | パスワードの表示状態切替   | なし   | なし           |
| 保存               | 保存ボタン押下 | 入力内容を保存             | なし   | 必須項目・形式チェック|
| キャンセル         | キャンセル押下 | モーダルを閉じる           | なし   | 変更確認ダイアログ |

---

## 2-5. 削除確認ダイアログ

![image.png](image%205.png)

### UI 要素・コントロール・I/O

| 要素名             | コントロール種類 | I/O | 説明                                                                 |
|--------------------|------------------|-----|----------------------------------------------------------------------|
| 確認メッセージ     | テキスト表示     | 出力| 削除対象スタッフ名（氏名・カナ）と確認メッセージ                     |
| 警告メッセージ     | テキスト表示     | 出力| 「※この操作は元に戻せません。」（エラー色）                         |
| 削除実行ボタン     | ボタン           | 入力| 削除を実行（エラー色のContainedボタン）                             |
| キャンセルボタン   | ボタン           | 入力| 削除をキャンセル                                                     |

### イベント定義

| イベント名         | 発生タイミング | イベント概要               | 遷移先 | バリデーション |
|--------------------|---------------|----------------------------|--------|----------------|
| 削除実行           | 削除ボタン押下 | スタッフ情報の削除         | なし   | なし           |
| 削除キャンセル     | キャンセル押下 | ダイアログを閉じる         | なし   | なし           |

---

## 2-6. 通知システム（NotificationSystem）

![image.png](image%206.png)

### UI 要素・コントロール・I/O

| 要素名             | コントロール種類 | I/O | 説明                                                                 |
|--------------------|------------------|-----|----------------------------------------------------------------------|
| 通知ドロワー       | Drawer           | 出力| 画面右からスライドイン。通知一覧を表示                               |
| 通知バッジ         | バッジ           | 出力| 未読件数を表示（AdminHeaderの通知アイコンに連動）                    |
| 通知リスト         | リスト           | 出力| 通知内容（提出・承認・変更依頼等）を表示                             |
| 既読マーク         | ボタン           | 入力| 通知を既読にする                                                     |
| 全削除ボタン       | ボタン           | 入力| 通知を全て削除                                                       |
| 詳細ダイアログ     | ダイアログ       | 出力| 通知の詳細内容を表示                                                 |

### イベント定義

| イベント名         | 発生タイミング | イベント概要               | 遷移先 | バリデーション |
|--------------------|---------------|----------------------------|--------|----------------|
| 通知ドロワー開閉   | 通知アイコン押下/ドロワークローズ | 通知一覧の表示・非表示 | Drawer表示/非表示 | なし |
| 通知既読           | ボタン押下時   | 通知を既読にする           | なし   | なし           |
| 通知全削除         | ボタン押下時   | 通知を全て削除             | なし   | なし           |
| 通知詳細表示       | 通知クリック時 | 通知の詳細ダイアログを表示 | ダイアログ表示 | なし |

---

# 3. その他仕様（要素に収まらない共通ルールや制約）

- **LocalStorage管理**: スタッフ情報・提出状況・通知データの永続化（`staff_members`キー）
- **リアルタイムフィルタ**: 入力と同時にテーブル内容を絞り込み
- **提出状況管理**: 月別の提出状況を個別管理・表示（「提出済み」「未提出」Chipで日本語表示）。2025年1-12月固定月リスト
- **アクティブ状態管理**: スタッフの有効/無効状態をリアルタイム切替（Tooltip説明付き）
- **パスワード管理**: パスワードの表示/非表示切替機能（モーダル内）
- **単価管理**: 編集時は読み取り専用（ANSTEYPE側決定）、新規登録時は入力可能。通貨フォーマット表示
- **テーブル構造**: 3行構造（月フィルター・ラベル・フィルター行）、統計情報表示
- **バリデーション**: 必須項目（氏名、カナ、最寄駅、電話番号、メール、パスワード）、形式チェック（メールアドレス、電話番号）、数値チェック（平日・土日単価）
- **レスポンシブ対応**: デスクトップはフルテーブル、タブレットは横スクロール、スマホはカード形式
- **アクセシビリティ**: WCAG 2.2 AA準拠、キーボード操作、コントラスト4.5:1以上、スクリーンリーダー対応
- **セキュリティ**: 管理者認証必須、パスワード暗号化表示、セッション管理
- **通知機能**: AdminHeaderから継承（変更依頼履歴・設定メニュー含む）
- **UI/UX**: モーダルは中央表示、削除時は確認ダイアログ必須、成功・エラーメッセージ表示、ローディング状態表示
- **パフォーマンス**: 大量スタッフデータ対応、仮想化スクロール未実装、フィルタ結果の高速表示
- **注意事項**: 既存スタッフデータとの互換性維持、段階的機能拡張対応、同時編集制御未実装 